
<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <title>The Tesla</title>
        <!-- <script src="../../js/ios-orientationchange-fix.min.js"></script> -->

        <style>
            .layer1 {
                position: relative; /* Относительное позиционирование */
                background: #f5ecda; /* Цвет фона */
                height: 100px; /* Высота блока */
                border: 1;
                width: 100%; 
                border-radius:5px;
            }
            .layer2 {
                position: absolute; /* Абсолютное позиционирование */
                bottom: 15px; /* Положение от нижнего края */
                color: #ffffff;
                right: 15px; /* Положение от правого края */
                line-height: 1px;
            } 
            
            .block__img {
                display: block;
                height: auto;
                width: auto;
            }
           
        </style>

    </head>

    <body>
        <table
        border="1"
        align="center"
        rules="rows"
        style="width:60%;">
        <tr>
        <td>
        <!--ШАПКА САЙТА-->
        <table class="layer1">
        <tr>
        <th>
        <h1>The Tesla</h1>
        <div data-layout="BIG_ICON_DETAILS_SUBTOTAL"
        data-icon="CART"
        data-fixed-shape="PILL" 
        data-horizontal-indent="325" 
        data-vertical-indent="25" class="ec-cart-widget layer2"></div>
        <div>
            <script data-cfasync="false" type="text/javascript" src="https://app.ecwid.com/script.js?6732144&data_platform=code&data_date=2019-10-24" charset="utf-8"></script>
            <script type="text/javascript">Ecwid.init();</script>
        </div>
        </th>
        </tr>
        </table>

               
        <!--ОСНОВНОЙ КОНТЕНТ-->

        <table
        border="1"
        bgcolor="#ebe0ca"
        height="100"
        cellpadding="10"
        style="width:100%; border-radius:5px;">

        <!--Задание по JS API-->
        <script>

            function addToCard (productID) {
                Ecwid.Cart.addProduct(productID,cartInclude)};
            function cartInclude () {
                Ecwid.Cart.get(function(cart) {
                    let collectedCar = [333999308,333999307,348055491,365099640,346854246];
                    let currentCart = [];
                    let emptyCart = [];
                    for (i = 0; i < cart.items.length; i++) {
                        let x = cart.items[i];
                        currentCart.push(cart.items[i].product.id);
                    };
                    let chekArrow = collectedCar.filter(y => !currentCart.includes(y));

                    if (JSON.stringify(chekArrow) == JSON.stringify(emptyCart))                    
                    document.getElementById("car").innerHTML = "<table border='1' bgcolor='#ebe0ca' height='400' cellpadding='10' style='width:100%; border-radius:5px;'><tr><td rowspan='2' style='width:80%' align='center'><h1>You have collected the car!</h1></tr></table>"
                })};
       
        </script>


        <div id = "car">
            <img src = 'car_schema.jpg' usemap="#car_schema" alt="" class="block__img">
            <map name="car_schema">
                <area title="Weels" shape="poly" coords="464,380 472,382 481,371 478,364 485,330 472,287 453,263 424,246 389,245 357,257
                 332,280 313,307 299,340 296,381 292,404 300,413 312,433 331,444 365,453 391,455 413,447 435,434 453,412
                  461,391 872,211 857,216 839,228 827,251 819,273 812,310 806,332 796,336 799,342 809,352 821,358 848,361
                   857,361 875,350 892,329 901,304 902,275 901,249 892,223" href="#wheels" 
                   alt="Weels" onCLick="addToCard(333999308)">
                <area title="Windshield" shape="poly" coords="237,148 397,68 437,56 486,52 574,56 508,99 454,141 435,152 269,149" href="#windshield"
                 alt="Windshield" onCLick="addToCard(333999307)">
                <area title="Lights" shape="poly" coords="311,213 249,214 203,220 145,240 138,247 159,255 209,254 242,248 270,242
                 912,149 906,174 908,180 919,178 919,158 " href="#lights" alt="Lights" onCLick="addToCard(348055491)">
                <area  title="Hood"  shape="poly" coords="432,153 320,151 225,150 123,174 68,196 39,220 34,227 53,227 94,236 106,242 120,254
                 136,241 174,223 211,214 248,210 269,201 315,190 385,178 409,177 424,168 " href="#hood"alt="Hood"
                 onCLick="addToCard(365099640)">
                <area title="Doors" shape="poly" coords="490,158 545,95 592,64 659,47 799,75 819,111 832,135 848,146 854,162 857,196 832,217
                 818,243 801,297 499,350 " href="#doors" alt="Doors" onCLick="addToCard(346854246)">
            </map>
        </div>
        
    

        <tr>
        <td
        rowspan="2"
        style="width:80%">
        <h3>Collect a car.</h3>

            <h4>There are 5 part of car you may add in a shopping cart:</h4>
            <li> windshield,</li>
            <li> hood,</li>
            <li> lights,</li>
            <li> weels,</li>
            <li> doors.</li>

            <h4>Click on them on the schema above.</h4>
            
            <h4>If you take all of them, you will collect a car.</h4>
        </td>
        </tr>
        </table>
        <!--ПОДВАЛ-->

        <table
        border="1"
        bgcolor="#ddc5ab"
        height="100"
        cellpadding="10"
        style="width:100%; border-radius:5px;">
        <tr>
        <th>
        <h3>Second test task for QA engineer for Ecwid made by R. Vukolov.</h3>
        </th>
        </tr>
        </table>
        </td>
        </tr>
        </table>
    </body>
</html>